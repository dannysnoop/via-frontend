import{a as J}from"./chunk-CYFMAMRJ.js";import{a as G}from"./chunk-3S434B7E.js";import{a as L}from"./chunk-YGDEXIGW.js";import{i as k,j,k as V,l as A,m as $,n as Y,o as R,p as q}from"./chunk-3QVV65MX.js";import{a as H}from"./chunk-GAJDQISX.js";import{$b as O,Ba as l,Ca as y,Eb as E,Gb as I,Hb as N,Na as D,Pa as S,Ra as x,Tb as B,Ya as t,Za as i,_a as _,a as z,aa as w,ac as M,ba as p,cb as P,ea as f,fa as h,fb as u,hb as C,ja as c,qb as T,qc as F,rb as o,sb as g,sc as v,tb as b}from"./chunk-6K2CLVX4.js";function X(a,e){if(a&1){let s=P();t(0,"tr")(1,"td",6),o(2),i(),t(3,"td",6),o(4),E(5,"date"),i(),t(6,"td",6)(7,"i"),o(8),i()(),t(9,"td",6),o(10),i(),t(11,"td",6),o(12),E(13,"currency"),i(),t(14,"td",6)(15,"span",8),o(16,"Ho\xE0n th\xE0nh"),i()(),t(17,"td",6)(18,"div",9)(19,"button",10),u("click",function(){let d=f(s).$implicit,m=C();return h(m.redirectDetailOrder(d.id))}),_(20,"i",11),i(),t(21,"button",10),u("click",function(){let d=f(s).$implicit,m=C();return h(m.downloadOrderId(d.id))}),_(22,"i",12),i()()()()}if(a&2){let s=e.$implicit;l(2),g(s.id),l(2),b(" ",I(5,5,+s.createdDate*1e3,"dd-MM-YYYY HH:mm:ss "),""),l(4),g(s.productName),l(2),b(" ",s.quantity,""),l(2),g(N(13,8,s.totalPrice,"VND",!0))}}var Q=(()=>{let e=class e extends H{constructor(n,r){super(),this.service=n,this.router=r,this.historyBuys=[]}ngOnInit(){this.getHistoryBuy()}getHistoryBuy(n){let r=this.service.getHistoryBuy(n).subscribe({next:d=>{this.historyBuys=d.data,this.setPagination(z({},d))}});this.subscriptions.push(r)}pageChange(n){this.getHistoryBuy({page:n,take:10})}downloadOrderId(n){this.service.downloadDetailOrder(n).subscribe({next:r=>{G(`logs_id_${n}.txt`,r)}})}redirectDetailOrder(n){this.router.navigate([`/order/${n}`])}};e.\u0275fac=function(r){return new(r||e)(y(J),y(F))},e.\u0275cmp=w({type:e,selectors:[["app-history-buy"]],features:[D],decls:26,vars:6,consts:[[1,"wrapper"],[1,"wrapper__header"],[1,"wrapper__content"],[1,"wrapper__content--table"],[1,"overflow-auto",2,"border","0.5px solid #e4e9f3",3,"nzData","nzFrontPagination","nzPageIndex","nzPageSize","nzTotal","nzPageIndexChange"],["basicTable",""],["nzAlign","center"],[4,"ngFor","ngForOf"],[1,"text-white","ps-1","pe-1",2,"background","#82b54b","border-radius","5px"],["role","group","aria-label","Second group",1,"btn-group","mr-2"],["type","button",1,"btn","btn-outline-danger",3,"click"],[1,"fa-solid","fa-eye"],[1,"fa-solid","fa-download"]],template:function(r,d){if(r&1&&(t(0,"div",0)(1,"div",1)(2,"h3"),o(3,"L\u1ECBch s\u1EED mua h\xE0ng"),i()(),t(4,"div",2)(5,"div",3)(6,"nz-table",4,5),u("nzPageIndexChange",function(W){return d.pageChange(W)}),t(8,"thead")(9,"tr")(10,"th",6),o(11,"M\xE3 \u0111\u01A1n"),i(),t(12,"th",6),o(13,"Th\u1EDDi gian"),i(),t(14,"th",6),o(15,"Th\u1EC3 lo\u1EA1i"),i(),t(16,"th",6),o(17,"S\u1ED1 l\u01B0\u1EE3ng"),i(),t(18,"th",6),o(19,"T\u1ED5ng ti\u1EC1n"),i(),t(20,"th",6),o(21,"Trang thai"),i(),t(22,"th",6),o(23,"Action"),i()()(),t(24,"tbody"),S(25,X,23,12,"tr",7),i()()()()()),r&2){let m=T(7);l(6),x("nzData",d.historyBuys)("nzFrontPagination",!1)("nzPageIndex",d.currentPage)("nzPageSize",d.limit)("nzTotal",d.totalRecord),l(19),x("ngForOf",m.data)}},dependencies:[$,k,j,R,A,Y,V,B,O,M],styles:[".wrapper[_ngcontent-%COMP%]{height:100%;overflow:auto}.wrapper__header[_ngcontent-%COMP%]{background:#d262e3 linear-gradient(135deg,#d262e3 0,#0665d0);border-top-left-radius:.2rem;border-top-right-radius:.2rem;padding:.75rem 1.25rem}.wrapper__header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;min-height:1.75rem;margin:0;font-size:1.125rem;font-weight:400;line-height:1.75}.wrapper__content[_ngcontent-%COMP%]{background:#fff;padding:1.25rem}"]});let a=e;return a})();var Z=[{path:"",component:Q}],U=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=p({type:e}),e.\u0275inj=c({imports:[v.forChild(Z),v]});let a=e;return a})();var he=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=p({type:e}),e.\u0275inj=c({imports:[U,q,L]});let a=e;return a})();export{he as a};
