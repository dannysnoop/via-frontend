import{a as ot}from"./chunk-DFOOKLIX.js";import{a as st}from"./chunk-T6ZPR3DN.js";import{a as at}from"./chunk-YGDEXIGW.js";import{i as X,j as Z,k as Q,l as tt,m as et,n as it,o as nt,p as rt}from"./chunk-3QVV65MX.js";import{a as ct}from"./chunk-ACCNQQDT.js";import{a as J}from"./chunk-2LHNZLNA.js";import{d as R,g as q,j as G,q as K}from"./chunk-U2BK7JJZ.js";import{a as $}from"./chunk-GAJDQISX.js";import{a as D}from"./chunk-RMJNHSUB.js";import{$b as V,Ba as r,Ca as B,Eb as p,Gb as H,Hb as u,Na as W,Pa as A,Ra as y,Tb as j,Ya as t,Za as e,_a as g,a as v,aa as Y,ac as U,ba as x,fb as w,fc as L,g as pt,h as C,ia as k,ja as S,pa as P,qb as I,rb as i,sb as m,sc as N,tb as d,w as _,wb as M,xb as z,yb as F}from"./chunk-6K2CLVX4.js";var b=class{constructor(){this.totalAmountYesterday="",this.totalAmountToday="",this.totalAmountThisWeek="",this.totalAmountThisMonth="",this.totalOrderYesterday="",this.totalOrderToday="",this.totalOrderThisWeek="",this.totalOrderThisMonth="",this.totalOrderAmountYesterday="",this.totalOrderAmountToday="",this.totalOrderAmountThisWeek="",this.totalOrderAmountThisMonth=""}};var E=pt(ct()),Dt=(0,E.default)(),ut=(0,E.default)().startOf("week").format("DD/MM/YYYY"),ht=(0,E.default)().endOf("week").format("DD/MM/YYYY"),T=class{constructor(){this.yesterday=(0,E.default)().subtract(1,"days").format("DD/MM/YYYY"),this.today=(0,E.default)().format("MM/DD/YYYY"),this.thisWeek=`(${ut}  -   ${ht})`,this.thisMonth=(0,E.default)().format("MM/YYYY")}};var lt=(()=>{let a=class a{constructor(s){this.http=s}getTransaction(s){let l=s?v({},s):void 0;return ot(l),this.http.get(`${D.apiUrl}/transaction`,{params:l})}getTop10InMonth(){return this.http.get(`${D.apiUrl}/transaction/get-top-10-deposit`)}getStatistic(){return this.http.get(`${D.apiUrl}/transaction/statistics`)}};a.\u0275fac=function(l){return new(l||a)(P(L))},a.\u0275prov=k({token:a,factory:a.\u0275fac,providedIn:"root"});let o=a;return o})();function Et(o,a){if(o&1&&(t(0,"tr")(1,"td",21),i(2),p(3,"date"),e(),t(4,"td",30),i(5),e(),t(6,"td",21),i(7),e(),t(8,"td",21),i(9),p(10,"currency"),e(),t(11,"td",21),i(12),e(),t(13,"td",21),i(14),e()()),o&2){let h=a.$implicit;r(2),d(" ",H(3,6,+h.createdAt*1e3,"dd-MM-YYYY HH:mm:ss "),""),r(3),m(h.code),r(2),m(h.user.username),r(2),m(u(10,9,h.amount,"VND",!0)),r(3),m(h.description),r(2),m(h.adminNameHandle)}}function ft(o,a){if(o&1&&(t(0,"tr")(1,"td",21),i(2),e(),t(3,"td",30),i(4),p(5,"currency"),e()()),o&2){let h=a.$implicit;r(2),m(h.username),r(2),m(u(5,2,h.total,"VND",!0))}}var mt=(()=>{let a=class a extends ${constructor(s){super(),this.service=s,this.code="",this.username="",this.historyDeposits=[],this.historyTop10s=[],this.statistic=new b,this.dateFormat=new T,this.listOfData=st}ngOnInit(){this.getHistoryDepositAll(),this.getTop10Deposit(),this.getStatistic()}getHistoryDepositAll(s){let l=this.service.getTransaction(s).subscribe({next:n=>{this.historyDeposits=n.data,this.setPagination(v({},n))}});this.subscriptions.push(l)}pageChange(s=0){let l={username:this.username,code:this.code,page:s,take:10};this.getHistoryDepositAll(l)}getTop10Deposit(){return C(this,null,function*(){this.historyTop10s=yield _(this.service.getTop10InMonth())})}getStatistic(){return C(this,null,function*(){this.statistic=yield _(this.service.getStatistic())})}submit(){let s={username:this.username,code:this.code};this.getHistoryDepositAll(s)}};a.\u0275fac=function(l){return new(l||a)(B(lt))},a.\u0275cmp=Y({type:a,selectors:[["app-history-deposit-all"]],features:[W],decls:152,vars:64,consts:[[1,"wrapper"],[1,"wrapper__info","row"],[1,"col-lg-3","col-md-6","mb-3"],[1,"block","d-flex","justify-content-between","align-items-center","p-3","bg-warning"],[1,"fa","fa-2x","fa-coins","text-white",2,"opacity","0.75"],[1,"ml-3","text-right"],[1,"text-white","fw-light","mb-0",2,"font-size","1.5rem",";text-align","right"],[1,"text-white","fw-light","mb-0",2,"opacity","0.75","text-align","right","font-size","16px"],[1,"block","d-flex","justify-content-between","align-items-center","p-3","bg-primary"],[1,"block","d-flex","justify-content-between","align-items-center","p-3","bg-success"],[1,"block","d-flex","justify-content-between","align-items-center","p-3","bg-danger"],[1,"wrapper__history"],[1,"wrapper__history__header","header1"],[1,"wrapper__history__content","bg-white","p-4"],[1,"wrapper__history__content--search","d-flex","col-md-6","col-sm-12"],["nz-input","","type","text","placeholder","theo m\xE3 giao d\u1ECBch",1,"me-2",3,"ngModel","ngModelChange"],["nz-input","","type","text","placeholder","theo username",1,"me-2",3,"ngModel","ngModelChange"],[1,"btn","btn-primary",3,"click"],[1,"wrapper__history__content--table","mt-4"],[1,"table","table-striped","mt-3","overflow-auto",3,"nzFrontPagination","nzTotal","nzPageSize","nzPageIndex","nzData","nzPageIndexChange"],["basicTable",""],["nzAlign","center"],[4,"ngFor","ngForOf"],[1,"wrapper__top10","mt-4"],[1,"wrapper__top10__header","header1"],[2,"font-size","24px"],[1,"wrapper__top10__content"],[1,"table",3,"nzShowPagination","nzData"],["basicTable1",""],["nzAlign","center",2,"font-size","20px"],["nzAlign","center",2,"cursor","pointer"]],template:function(l,n){if(l&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div"),g(5,"i",4),e(),t(6,"div",5)(7,"p",6),i(8),p(9,"currency"),e(),t(10,"p",7),i(11),e()()()(),t(12,"div",2)(13,"div",8)(14,"div"),g(15,"i",4),e(),t(16,"div",5)(17,"p",6),i(18),p(19,"currency"),e(),t(20,"p",7),i(21),e()()()(),t(22,"div",2)(23,"div",9)(24,"div"),g(25,"i",4),e(),t(26,"div",5)(27,"p",6),i(28),p(29,"currency"),e(),t(30,"p",7),i(31),e()()()(),t(32,"div",2)(33,"div",10)(34,"div"),g(35,"i",4),e(),t(36,"div",5)(37,"p",6),i(38),p(39,"currency"),e(),t(40,"p",7),i(41),e()()()(),t(42,"div",2)(43,"div",3)(44,"div"),g(45,"i",4),e(),t(46,"div",5)(47,"p",6),i(48," T\u1ED5ng \u0111\u01A1n h\xE0ng: "),t(49,"b"),i(50),e()(),t(51,"p",6),i(52," T\u1ED5ng s\u1ED1 ti\u1EC1n: "),t(53,"b"),i(54),p(55,"currency"),e()(),t(56,"p",7),i(57),e()()()(),t(58,"div",2)(59,"div",8)(60,"div"),g(61,"i",4),e(),t(62,"div",5)(63,"p",6),i(64," T\u1ED5ng \u0111\u01A1n h\xE0ng: "),t(65,"b"),i(66),e()(),t(67,"p",6),i(68," T\u1ED5ng s\u1ED1 ti\u1EC1n:"),t(69,"b"),i(70),p(71,"currency"),e()(),t(72,"p",7),i(73),e()()()(),t(74,"div",2)(75,"div",9)(76,"div"),g(77,"i",4),e(),t(78,"div",5)(79,"p",6),i(80," T\u1ED5ng \u0111\u01A1n h\xE0ng: "),t(81,"b"),i(82),e()(),t(83,"p",6),i(84," T\u1ED5ng s\u1ED1 ti\u1EC1n:"),t(85,"b"),i(86),p(87,"currency"),e()(),t(88,"p",7),i(89),e()()()(),t(90,"div",2)(91,"div",10)(92,"div"),g(93,"i",4),e(),t(94,"div",5)(95,"p",6),i(96," T\u1ED5ng \u0111\u01A1n h\xE0ng: "),t(97,"b"),i(98),e()(),t(99,"p",6),i(100," T\u1ED5ng s\u1ED1 ti\u1EC1n:"),t(101,"b"),i(102),p(103,"currency"),e()(),t(104,"p",7),i(105),e()()()()(),t(106,"div",11)(107,"div",12)(108,"h2"),i(109,"L\u1ECBch S\u1EED Giao D\u1ECBch"),e()(),t(110,"div",13)(111,"p"),i(112,"T\xECm ki\u1EBFm"),e(),t(113,"div",14)(114,"input",15),F("ngModelChange",function(c){return z(n.code,c)||(n.code=c),c}),e(),t(115,"input",16),F("ngModelChange",function(c){return z(n.username,c)||(n.username=c),c}),e(),t(116,"button",17),w("click",function(){return n.submit()}),i(117,"Search"),e()(),t(118,"div",18)(119,"nz-table",19,20),w("nzPageIndexChange",function(c){return n.pageChange(c)}),t(121,"thead")(122,"tr")(123,"th",21),i(124,"Ng\xE0y giao d\u1ECBch	"),e(),t(125,"th",21),i(126,"M\xE3 giao d\u1ECBch "),e(),t(127,"th",21),i(128,"Kh\xE1ch h\xE0ng "),e(),t(129,"th",21),i(130,"S\u1ED1 ti\u1EC1n	"),e(),t(131,"th",21),i(132,"M\xF4 t\u1EA3 "),e(),t(133,"th",21),i(134,"Admin x\u1EED l\xFD giao d\u1ECBch	"),e()()(),t(135,"tbody"),A(136,Et,15,13,"tr",22),e()()()()(),t(137,"div",23)(138,"div",24)(139,"h2",25),i(140),e()(),t(141,"div",26)(142,"nz-table",27,28)(144,"thead")(145,"tr")(146,"th",29),i(147,"User	"),e(),t(148,"th",29),i(149,"S\u1ED1 ti\u1EC1n "),e()()(),t(150,"tbody"),A(151,ft,6,6,"tr",22),e()()()()()),l&2){let f=I(120),c=I(143);r(8),d(" + ",u(9,32,n.statistic.totalAmountYesterday,"VND",!0)," "),r(3),d(" T\u1ED5ng n\u1EA1p h\xF4m qua ( ",n.dateFormat.yesterday," ) "),r(7),d(" + ",u(19,36,n.statistic.totalAmountToday,"VND",!0)," "),r(3),d(" T\u1ED5ng n\u1EA1p h\xF4m nay (",n.dateFormat.today," ) "),r(7),d(" + ",u(29,40,n.statistic.totalAmountThisWeek,"VND",!0)," "),r(3),d(" T\u1ED5ng n\u1EA1p tu\u1EA7n n\xE0y ",n.dateFormat.thisWeek," "),r(7),d(" + ",u(39,44,n.statistic.totalAmountThisMonth,"VND",!0)," "),r(3),d(" T\u1ED5ng n\u1EA1p th\xE1ng n\xE0y ( ",n.dateFormat.thisMonth," ) "),r(9),m(n.statistic.totalOrderYesterday),r(4),m(u(55,48,n.statistic.totalOrderAmountYesterday,"VND",!0)),r(3),d(" H\xF4m qua ( ( ",n.dateFormat.yesterday," ) ) "),r(9),m(n.statistic.totalOrderToday),r(4),m(u(71,52,n.statistic.totalOrderAmountToday,"VND",!0)),r(3),d(" H\xF4m nay ( ( ",n.dateFormat.today," ) ) "),r(9),m(n.statistic.totalOrderThisWeek),r(4),m(u(87,56,n.statistic.totalOrderAmountThisWeek,"VND",!0)),r(3),d(" Tu\u1EA7n n\xE0y ",n.dateFormat.thisWeek," "),r(9),m(n.statistic.totalOrderThisMonth),r(4),m(u(103,60,n.statistic.totalOrderAmountThisMonth,"VND",!0)),r(3),d(" th\xE1ng n\xE0y ( ",n.dateFormat.thisMonth," ) "),r(9),M("ngModel",n.code),r(),M("ngModel",n.username),r(4),y("nzFrontPagination",!1)("nzTotal",n.totalRecord)("nzPageSize",n.limit)("nzPageIndex",n.currentPage)("nzData",n.historyDeposits),r(17),y("ngForOf",f.data),r(4),d("TOP 10 N\u1EA1p nhi\u1EC1u nh\u1EA5t trong th\xE1ng ",n.dateFormat.thisMonth," n\xE0y "),r(2),y("nzShowPagination",!1)("nzData",n.historyTop10s),r(9),y("ngForOf",c.data)}},dependencies:[et,X,Z,nt,tt,it,Q,j,J,R,q,G,V,U],styles:[".wrapper[_ngcontent-%COMP%]{height:100%;overflow-y:auto;overflow-x:hidden}.wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}"]});let o=a;return o})();var yt=[{path:"",component:mt}],dt=(()=>{let a=class a{};a.\u0275fac=function(l){return new(l||a)},a.\u0275mod=x({type:a}),a.\u0275inj=S({imports:[N.forChild(yt),N]});let o=a;return o})();var Gt=(()=>{let a=class a{};a.\u0275fac=function(l){return new(l||a)},a.\u0275mod=x({type:a}),a.\u0275inj=S({imports:[dt,rt,at,K]});let o=a;return o})();export{Gt as a};
