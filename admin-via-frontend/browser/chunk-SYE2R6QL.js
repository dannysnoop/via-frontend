import{a as oe,c as S,e as se}from"./chunk-QYNFAZMW.js";import{a as Q}from"./chunk-SWGVYQEU.js";import{i as ce,j as pe,k as le,l as x,m as D,n as de,o as T}from"./chunk-3QVV65MX.js";import{a as me,b as ue}from"./chunk-JSJGIVKS.js";import{a as ae}from"./chunk-2LHNZLNA.js";import{d as ee,g as te,j as ie,q as ne,r as re}from"./chunk-U2BK7JJZ.js";import{a as K}from"./chunk-GAJDQISX.js";import{a as F}from"./chunk-S3AX5MZX.js";import{$b as X,Ba as l,Ca as m,Eb as N,Gb as j,La as k,Na as L,Pa as B,Pb as $,Ra as y,Tb as q,Ya as s,Za as a,_a as z,a as b,aa as P,ba as h,cb as V,ea as w,fa as E,fb as g,fc as G,hb as M,ia as v,ja as f,ka as R,kb as H,l as O,pa as d,qb as W,rb as c,rc as J,sb as C,sc as A,tb as _,wb as Y,xb as Z,yb as U}from"./chunk-6K2CLVX4.js";var he=(()=>{let i=class i{constructor(t){this.http=t}getHistoryTransaction(t){let r=t?b({},t):void 0;return this.http.get(`${F.apiUrl}/product-detail`,{params:r})}removeProductDetail(t=0){return this.http.delete(`${F.apiUrl}/product-detail/${t}`)}};i.\u0275fac=function(r){return new(r||i)(d(G))},i.\u0275prov=v({token:i,factory:i.\u0275fac,providedIn:"root"});let o=i;return o})();var fe=new R("WindowToken",typeof window<"u"&&window.document?{providedIn:"root",factory:()=>window}:{providedIn:"root",factory:()=>{}});var ge=(()=>{class o{constructor(e,t,r){this.ngZone=e,this.document=t,this.window=r,this.copySubject=new O,this.copyResponse$=this.copySubject.asObservable(),this.config={}}configure(e){this.config=e}copy(e){if(!this.isSupported||!e)return this.pushCopyResponse({isSuccess:!1,content:e});let t=this.copyFromContent(e);return t?this.pushCopyResponse({content:e,isSuccess:t}):this.pushCopyResponse({isSuccess:!1,content:e})}get isSupported(){return!!this.document.queryCommandSupported&&!!this.document.queryCommandSupported("copy")&&!!this.window}isTargetValid(e){if(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement){if(e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');return!0}throw new Error("Target should be input or textarea")}copyFromInputElement(e,t=!0){try{this.selectTarget(e);let r=this.copyText();return this.clearSelection(t?e:void 0,this.window),r&&this.isCopySuccessInIE11()}catch{return!1}}isCopySuccessInIE11(){let e=this.window.clipboardData;return!(e&&e.getData&&!e.getData("Text"))}copyFromContent(e,t=this.document.body){if(this.tempTextArea&&!t.contains(this.tempTextArea)&&this.destroy(this.tempTextArea.parentElement||void 0),!this.tempTextArea){this.tempTextArea=this.createTempTextArea(this.document,this.window);try{t.appendChild(this.tempTextArea)}catch{throw new Error("Container should be a Dom element")}}this.tempTextArea.value=e;let r=this.copyFromInputElement(this.tempTextArea,!1);return this.config.cleanUpAfterCopy&&this.destroy(this.tempTextArea.parentElement||void 0),r}destroy(e=this.document.body){this.tempTextArea&&(e.removeChild(this.tempTextArea),this.tempTextArea=void 0)}selectTarget(e){return e.select(),e.setSelectionRange(0,e.value.length),e.value.length}copyText(){return this.document.execCommand("copy")}clearSelection(e,t){e&&e.focus(),t.getSelection()?.removeAllRanges()}createTempTextArea(e,t){let r=e.documentElement.getAttribute("dir")==="rtl",n;n=e.createElement("textarea"),n.style.fontSize="12pt",n.style.border="0",n.style.padding="0",n.style.margin="0",n.style.position="absolute",n.style[r?"right":"left"]="-9999px";let p=t.pageYOffset||e.documentElement.scrollTop;return n.style.top=p+"px",n.setAttribute("readonly",""),n}pushCopyResponse(e){this.copySubject.observers.length>0&&this.ngZone.run(()=>{this.copySubject.next(e)})}pushCopyReponse(e){this.pushCopyResponse(e)}}return o.\u0275fac=function(e){return new(e||o)(d(k),d($),d(fe,8))},o.\u0275prov=v({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Se(o,i){if(o&1){let e=V();s(0,"tr")(1,"td",7),c(2),a(),s(3,"td",10),g("dblclick",function(){let n=w(e).$implicit,p=M();return E(p.copyText(n.info))}),c(4),a(),s(5,"td",7),c(6),a(),s(7,"td",7),c(8),N(9,"date"),a(),s(10,"td",7),c(11),N(12,"date"),a(),s(13,"td",7)(14,"div",11)(15,"button",12),z(16,"i",13),a(),s(17,"button",14),g("click",function(){let n=w(e).$implicit,p=M();return E(p.removeButton(n.id))}),z(18,"i",15),a()()()()}if(o&2){let e=i.$implicit;l(2),C(e.id),l(),y("title",e.info),l(),C(e.info.length>40?e.info.slice(0,40)+".....":e.info),l(2),C(e.product.title),l(2),_(" ",j(9,7,+e.createdAt*1e3,"dd-MM-YYYY HH:mm:ss "),""),l(3),_(" ",j(12,10,+e.updatedAt*1e3,"dd-MM-YYYY HH:mm:ss "),""),l(4),H("routerLink","/edit-product-details/",e.id,"")}}var be=(()=>{let i=class i extends K{ngOnInit(){this.getProductDetail()}constructor(t,r,n,p){super(),this.service=t,this.clipboardService=r,this.toast=n,this.modal=p,this.productDetails=[],this.search=""}getProductDetail(t){let r=this.service.getHistoryTransaction(t).subscribe({next:n=>{this.productDetails=n.data,this.setPagination(b({},n))}});this.subscriptions.push(r)}pageChange(t){this.getProductDetail({page:t,q:this.search,take:10})}searchButton(){this.getProductDetail({page:1,q:this.search,take:10})}copyText(t){this.clipboardService.copy(t),this.toast.success("copy th\xE0nh c\xF4ng")}removeButton(t=0){this.modal.confirm({nzTitle:`<i>X\xE1c nh\u1EADn xo\xE1 d\u1EEF li\u1EC7u n\xE0y?
 </i>`,nzOnOk:()=>{let r=this.service.removeProductDetail(t).subscribe({next:n=>{this.getProductDetail(),this.toast.success("remove th\xE0nh c\xF4ng")}});this.subscriptions.push(r)}})}};i.\u0275fac=function(r){return new(r||i)(m(he),m(ge),m(Q),m(me))},i.\u0275cmp=P({type:i,selectors:[["app-product-details"]],features:[L],decls:29,vars:7,consts:[[1,"wrapper","bg-white"],[1,"wrapper__header","header1"],[1,"wrapper__content","p-3"],["type","text","nz-input","","placeholder","theo uid",1,"w-25",3,"ngModel","ngModelChange"],[1,"btn","btn-primary","ms-2",3,"click"],[3,"nzFrontPagination","nzTotal","nzPageSize","nzPageIndex","nzData","nzPageIndexChange"],["basicTable",""],["nzAlign","center"],["nzWidth","300","nzAlign","center"],[4,"ngFor","ngForOf"],["nzAlign","center",2,"cursor","pointer",3,"title","dblclick"],["role","group","aria-label","Second group",1,"btn-group","mr-2"],["type","button",1,"btn","btn-outline-primary",3,"routerLink"],[1,"fa-solid","fa-edit"],["type","button",1,"btn","btn-outline-danger",3,"click"],[1,"fa-solid","fa-trash"]],template:function(r,n){if(r&1&&(s(0,"div",0)(1,"div",1)(2,"h2"),c(3,"Danh s\xE1ch \u0111ang b\xE1n"),a()(),s(4,"div",2)(5,"p"),c(6,"T\xECm ki\u1EBFm"),a(),s(7,"nz-form-item")(8,"input",3),U("ngModelChange",function(u){return Z(n.search,u)||(n.search=u),u}),a(),s(9,"button",4),g("click",function(){return n.searchButton()}),c(10,"T\xECm ki\u1EBFm"),a()(),s(11,"nz-table",5,6),g("nzPageIndexChange",function(u){return n.pageChange(u)}),s(13,"thead")(14,"tr")(15,"th",7),c(16,"#ID"),a(),s(17,"th",8),c(18,"info"),a(),s(19,"th",7),c(20,"Lo\u1EA1i"),a(),s(21,"th",7),c(22,"Ng\xE0y up"),a(),s(23,"th",7),c(24,"Update l\u1EA7n cu\u1ED1i	"),a(),s(25,"th",7),c(26,"Actions	"),a()()(),s(27,"tbody"),B(28,Se,19,13,"tr",9),a()()()()),r&2){let p=W(12);l(8),Y("ngModel",n.search),l(3),y("nzFrontPagination",!1)("nzTotal",n.totalRecord)("nzPageSize",n.limit)("nzPageIndex",n.currentPage)("nzData",n.productDetails),l(17),y("ngForOf",p.data)}},dependencies:[J,ee,te,ie,S,ae,oe,q,le,ce,D,x,pe,T,de,X],styles:[".wrapper[_ngcontent-%COMP%]{height:100%;overflow:auto}.wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}"]});let o=i;return o})();var xe=[{path:"",component:be}],ve=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=h({type:i}),i.\u0275inj=f({imports:[A.forChild(xe),A]});let o=i;return o})();var lt=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=h({type:i}),i.\u0275inj=f({imports:[ve,ne,ue,se,S,re,D,x,T]});let o=i;return o})();export{lt as a};
