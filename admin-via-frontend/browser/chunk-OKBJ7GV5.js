import{a as fe}from"./chunk-DFOOKLIX.js";import{a as he}from"./chunk-T6ZPR3DN.js";import{a as re,c as z,d as oe}from"./chunk-QYNFAZMW.js";import{a as ce}from"./chunk-VMCU5FXE.js";import{a as ue}from"./chunk-3S434B7E.js";import{f as me,i as le,j as pe,k as de,l as b,m as y,n as se,o as x}from"./chunk-3QVV65MX.js";import{a as ae}from"./chunk-2LHNZLNA.js";import{d as J,e as f,g as Q,h as W,k as X,n as Z,o as ee,p as te,q as ie,r as ne}from"./chunk-U2BK7JJZ.js";import{a as U}from"./chunk-GAJDQISX.js";import{a as K}from"./chunk-RMJNHSUB.js";import{$b as L,Ba as l,Ca as E,Eb as S,Gb as V,Hb as R,Na as P,Pa as B,Ra as C,Tb as G,Ya as t,Za as i,_a as d,a as s,aa as I,ac as q,b as F,ba as h,cb as M,ea as A,fa as w,fb as v,fc as Y,hb as k,ia as O,ja as g,kb as j,pa as _,qb as H,rb as r,rc as $,sb as c,sc as D,tb as N}from"./chunk-6K2CLVX4.js";var ge=(()=>{let e=class e{constructor(o){this.http=o}getAllOrder(o){let n=o?s({},o):void 0;return fe(n),this.http.get(`${K.apiUrl}/order`,{params:n})}};e.\u0275fac=function(n){return new(n||e)(_(Y))},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let a=e;return a})();function be(a,e){if(a&1){let p=M();t(0,"tr")(1,"td",13),r(2),i(),t(3,"td",11),r(4),S(5,"date"),i(),t(6,"td",11),r(7),i(),t(8,"td",11),r(9),i(),t(10,"td",11),r(11),i(),t(12,"td",11),r(13),S(14,"currency"),i(),t(15,"td",11)(16,"span",14),r(17,"Ho\xE0n th\xE0nh"),i()(),t(18,"td",11)(19,"div",15)(20,"button",16),d(21,"i",17),i(),t(22,"button",18),v("click",function(){let m=A(p).$implicit,u=k();return w(u.downloadOrderId(m.id))}),d(23,"i",19),i()()()()}if(a&2){let p=e.$implicit;l(2),N("#",p.id,""),l(2),N(" ",V(5,7,+p.createdDate*1e3,"dd-MM-YYYY HH:mm:ss "),""),l(3),c(p.username),l(2),c(p.productName),l(2),c(p.quantity),l(2),c(R(14,10,p.totalPrice,"VND",!0)),l(7),j("routerLink","/order/",p.id,"")}}var Ee=(()=>{let e=class e extends U{constructor(o,n,m){super(),this.service=o,this.fb=n,this.historyBuyService=m,this.historyOrders=[],this.validateForm=this.fb.group({id:["",[f.required]],uid:["",[f.required]],username:["",[f.required]],phone:["",[f.required]]}),this.current=1,this.listOfData=he}ngOnInit(){this.getAllOrder()}submitForm(){let o=s({},this.validateForm.value);this.getAllOrder(o)}getAllOrder(o){let n=this.service.getAllOrder(o).subscribe({next:m=>{this.historyOrders=m.data,this.setPagination(s({},m))}});this.subscriptions.push(n)}pageChange(o=1){let n=F(s({},this.validateForm.value),{page:o,take:10});this.getAllOrder(n)}downloadOrderId(o){this.historyBuyService.downloadDetailOrder(o).subscribe({next:n=>{ue(`logs_id_${o}.txt`,n)}})}};e.\u0275fac=function(n){return new(n||e)(E(ge),E(te),E(ce))},e.\u0275cmp=I({type:e,selectors:[["app-history-buy-all"]],features:[P],decls:46,vars:7,consts:[[1,"wrapper","bg-white"],[1,"wrapper__header","header1"],[1,"wrapper__content","p-3"],["nz-form","",1,"login-form",3,"formGroup","ngSubmit"],["type","text","nz-input","","placeholder","Theo m\xE3 \u0111\u01A1n","formControlName","id"],["rows","7","nz-input","","placeholder","C\xF3 th\u1EC3 t\xECm s\u1ED1 l\u01B0\u1EE3ng lon theo uid 1 d\xF2ng","formControlName","uid"],["type","text","nz-input","","placeholder","Theo s\u1ED1 \u0111i\u1EC7n tho\u1EA1i","formControlName","username"],["type","text","nz-input","","placeholder","Theo s\u1ED1 \u0111i\u1EC7n tho\u1EA1i","formControlName","phone"],[1,"btn","btn-primary"],[1,"table","table-striped","mt-3",3,"nzFrontPagination","nzTotal","nzPageSize","nzPageIndex","nzData","nzPageIndexChange"],["basicTable",""],["nzAlign","center"],[4,"ngFor","ngForOf"],["nzAlign","center",1,"text-primary"],[1,"text-white","ps-1","pe-1",2,"background","#82b54b","border-radius","5px"],["role","group","aria-label","Second group",1,"btn-group","mr-2"],["type","button",1,"btn","btn-outline-danger",3,"routerLink"],[1,"fa-solid","fa-eye"],["type","button",1,"btn","btn-outline-danger",3,"click"],[1,"fa-solid","fa-download"]],template:function(n,m){if(n&1&&(t(0,"div",0)(1,"div",1)(2,"h2"),r(3,"Danh s\xE1ch \u0111\u01A1n h\xE0ng \u0111\xE3 mua "),i()(),t(4,"div",2)(5,"form",3),v("ngSubmit",function(){return m.submitForm()}),t(6,"p"),r(7,"Theo m\xE3 \u0111\u01A1n"),i(),t(8,"nz-form-item"),d(9,"input",4),i(),t(10,"p"),r(11,"Theo UID"),i(),t(12,"nz-form-item"),d(13,"textarea",5),i(),t(14,"p"),r(15,"Theo username"),i(),t(16,"nz-form-item"),d(17,"input",6),i(),t(18,"p"),r(19,"Theo s\u1ED1 \u0111i\u1EC7n tho\u1EA1i"),i(),t(20,"nz-form-item"),d(21,"input",7),i(),t(22,"button",8),r(23,"T\xECm ki\u1EBFm"),i()(),t(24,"nz-table",9,10),v("nzPageIndexChange",function(ve){return m.pageChange(ve)}),t(26,"thead")(27,"tr")(28,"th",11),r(29,"M\xE3 \u0110\u01A1n	"),i(),t(30,"th",11),r(31,"Th\u1EDDi Gian	"),i(),t(32,"th",11),r(33,"Kh\xE1ch h\xE0ng	"),i(),t(34,"th",11),r(35,"Lo\u1EA1i"),i(),t(36,"th",11),r(37,"S\u1ED1 L\u01B0\u1EE3ng "),i(),t(38,"th",11),r(39,"T\u1ED5ng \u0110\u01A1n H\xE0ng "),i(),t(40,"th",11),r(41,"	Tr\u1EA1ng Th\xE1i	"),i(),t(42,"th",11),r(43,"Actions	"),i()()(),t(44,"tbody"),B(45,be,24,14,"tr",12),i()()()()),n&2){let u=H(25);l(5),C("formGroup",m.validateForm),l(19),C("nzFrontPagination",!1)("nzTotal",m.totalRecord)("nzPageSize",m.limit)("nzPageIndex",m.currentPage)("nzData",m.historyOrders),l(21),C("ngForOf",u.data)}},dependencies:[$,ae,X,J,Q,W,z,re,Z,ee,G,de,le,y,b,pe,x,se,oe,L,q],styles:[".wrapper[_ngcontent-%COMP%]{height:100%;overflow:auto}.wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}"]});let a=e;return a})();var ye=[{path:"",component:Ee}],Ce=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=h({type:e}),e.\u0275inj=g({imports:[D.forChild(ye),D]});let a=e;return a})();var it=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=h({type:e}),e.\u0275inj=g({imports:[Ce,ie,z,ne,y,b,x,me]});let a=e;return a})();export{it as a};
