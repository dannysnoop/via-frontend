import{a as Q}from"./chunk-WMCVFNDX.js";import{c as G,e as $}from"./chunk-QYNFAZMW.js";import"./chunk-RPNFUX64.js";import{a as L}from"./chunk-SWGVYQEU.js";import{a as Y}from"./chunk-YGDEXIGW.js";import{c as g,d as C,p as X}from"./chunk-3QVV65MX.js";import"./chunk-3K2MFZ4U.js";import"./chunk-IA4EQO5P.js";import"./chunk-IP7SDAB2.js";import{a as Z}from"./chunk-RZ52QAGG.js";import{a as J,b as K}from"./chunk-2LHNZLNA.js";import"./chunk-BYXBJQAS.js";import{d as W}from"./chunk-UYMFFECA.js";import{d as V,g as R,j as U,q as H,r as q}from"./chunk-U2BK7JJZ.js";import"./chunk-4GDCIPAL.js";import{a as B}from"./chunk-GAJDQISX.js";import"./chunk-UR2TO4CR.js";import{a as N}from"./chunk-S3AX5MZX.js";import{Ba as f,Ca as m,Na as x,Pa as j,Ra as h,Tb as T,Ya as n,Za as s,_a as k,a as P,aa as S,ba as u,fb as v,fc as O,h as b,ia as M,ja as l,oc as A,pa as _,rb as c,sc as D,w as F,wb as z,xb as w,yb as y}from"./chunk-6K2CLVX4.js";var d=class{};var tt=(()=>{let t=class t{constructor(o){this.http=o}getDetailProduct(o=0){return this.http.get(`${N.apiUrl}/product-detail/${o}`)}saveDetailProduct(o,e){return this.http.put(`${N.apiUrl}/product-detail/${o}`,e)}};t.\u0275fac=function(e){return new(e||t)(_(O))},t.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();function rt(i,t){if(i&1&&k(0,"nz-option",10),i&2){let I=t.$implicit;h("nzValue",I.id)("nzLabel",I.title)}}var et=(()=>{let t=class t extends B{constructor(o,e,r,a){super(),this.service=o,this.route=e,this.productService=r,this.toast=a,this.productDetail=new d,this.info="",this.productId=0,this.products=[],this.originProduct=new d,this.id=0}ngOnInit(){this.getProductDetail(),this.getProduct()}getProductDetail(){return b(this,null,function*(){let o=yield F(this.route.params);this.id=o.id;let e=this.service.getDetailProduct(this.id).subscribe({next:r=>{this.productDetail=r,this.originProduct=P({},r),this.info=r.info,this.productId=r.product.id}});this.subscriptions.push(e)})}getProduct(){return b(this,null,function*(){let o=this.productService.getProducts().subscribe({next:e=>{this.products=e.data}});this.subscriptions.push(o)})}submit(){let o={productId:this.productId,info:this.info},e=this.service.saveDetailProduct(this.id,o).subscribe({next:r=>{this.toast.success("Update th\xE0nh c\xF4ng")},error:r=>{this.toast.error("Update l\u1ED7i")}});this.subscriptions.push(e)}reset(){this.info=this.originProduct.info,this.productId=this.originProduct.product.id}};t.\u0275fac=function(e){return new(e||t)(m(tt),m(A),m(Z),m(L))},t.\u0275cmp=S({type:t,selectors:[["app-edit-product-details"]],features:[x],decls:18,vars:4,consts:[[1,"wrapper"],[1,"wrapper__header","header1"],[1,"wrapper__content","bg-white","ps-3","pt-5","pb-5"],["nzShowSearch","","nzPlaceHolder","Ch\u1ECDn lo\u1EA1i",1,"w-75","pt-1",3,"ngModel","ngModelChange"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],[1,"pt-3"],["type","text","nz-input","",1,"w-75","pt-1",3,"rows","ngModel","ngModelChange"],[1,"p-3",2,"background","#f8f9fc!important"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-warning","text-white","ms-2",3,"click"],[3,"nzValue","nzLabel"]],template:function(e,r){e&1&&(n(0,"div",0)(1,"div",1)(2,"h2"),c(3,"Edit"),s()(),n(4,"div",2)(5,"p"),c(6,"Ch\u1ECDn lo\u1EA1i (n\u1EBFu kh\xF4ng thay \u0111\u1ED5i th\xEC gi\u1EEF nguy\xEAn) "),s(),n(7,"nz-select",3),y("ngModelChange",function(p){return w(r.productId,p)||(r.productId=p),p}),j(8,rt,1,2,"nz-option",4),s(),n(9,"div",5)(10,"p"),c(11,"Nh\u1EADp info"),s(),n(12,"textarea",6),y("ngModelChange",function(p){return w(r.info,p)||(r.info=p),p}),s()()(),n(13,"div",7)(14,"button",8),v("click",function(){return r.submit()}),c(15,"L\u01B0u thay \u0111\u1ED5i"),s(),n(16,"button",9),v("click",function(){return r.reset()}),c(17,"Reset"),s()()()),e&2&&(f(7),z("ngModel",r.productId),f(),h("ngForOf",r.products),f(4),h("rows",7),z("ngModel",r.info))},dependencies:[T,V,R,U,J,C,g]});let i=t;return i})();var nt=[{path:"",component:et}],it=(()=>{let t=class t{};t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u({type:t}),t.\u0275inj=l({imports:[D.forChild(nt),D]});let i=t;return i})();var Lt=(()=>{let t=class t{};t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u({type:t}),t.\u0275inj=l({imports:[it,X,Y,H,q,$,G,K,C,g,W,Q]});let i=t;return i})();export{Lt as EditProductDetailsModule};
